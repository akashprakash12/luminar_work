<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <!-- CSS only -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <!-- JavaScript Bundle with Popper -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-4"></div>
                <div class="col-4 mt-5">
                    <p id="error" class="text-danger"></p>
                </div>
                <div class="col-4 d-flex align-items-center justify-content-around mt-5">
                    <input
                        type="text"
                        class="form-control"
                        id="p_name"
                        placeholder="enter person name"
                    />
                    <button onclick="fetchUser()" class="btn btn-secondary">find</button>
                </div>
            </div>
            <div class="row">
                <div class="col-2"></div>
                <div class="col-8">
                    <table class="table table-bordered table-striped table-dark mt-5 table-hover">
                        <tr>
                            <th>first name</th>
                            <th>email</th>
                            <th>department</th>
                            <th>salary</th>
                        </tr>
                        <tbody id="data"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <script>
            var users = [
                {
                    id: 100,
                    first_name: "ram",
                    email: "ram@gmail.com",
                    dept: "sales",
                    salary: 25000,
                },
                { id: 101, first_name: "ravi", email: "ravi@gmail.com", dept: "it", salary: 28000 },
                { id: 102, first_name: "raju", email: "raju@gmail.com", dept: "ba", salary: 35000 },
                {
                    id: 103,
                    first_name: "rahul",
                    email: "rahul@gmail.com",
                    dept: "devop",
                    salary: 45000,
                },
                {
                    id: 104,
                    first_name: "akhil",
                    email: "akhil@gmail.com",
                    dept: "devop",
                    salary: 55000,
                },
                {
                    id: 105,
                    first_name: "aravind",
                    email: "aravind@gmail.com",
                    dept: "qa",
                    salary: 65000,
                },
                { id: 106, first_name: "ajay", email: "ajay@gmail.com", dept: "qa", salary: 28000 },
            ];

            let tablebody = "";
            var data = document.getElementById("data");

            for (const iterator of users) {
                tablebody += `<tr>
            <td>${iterator.first_name}</td>
            <td>${iterator.email}</td>
            <td>${iterator.dept}</td>
            <td>${iterator.salary}</td>
            </tr>`;
            }
            data.innerHTML = tablebody;
            let person = document.getElementById("p_name");

            function fetchUser() {
                let inputvalue = person.value;
                let username = users.find((data) => data.first_name == inputvalue);
                if (username) {
                    displayvaluofuser(username);
                } else if (inputvalue == "") {
                    document.getElementById("error").innerHTML = "plese type enything";
                } else {
                    document.getElementById("error").innerHTML = "no record found";
                }
            }
            function displayvaluofuser(user) {
                data.innerHTML = `<tr><td>${user.first_name}</td>
            <td>${user.email}</td>
            <td>${user.dept}</td>
            <td>${user.salary}</td>
            </tr>`;
            }
        </script>
    </body>
</html>
